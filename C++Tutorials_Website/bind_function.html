<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>C++ Tutorial</title>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.5/css/bootstrap.min.css" integrity="sha384-AysaV+vQoT3kOAXZkl02PThvDr8HYKPZhNT5h/CXfBThSRXQ6jW5DO2ekP5ViFdi" crossorigin="anonymous">


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body class="bg-info">
  
  <p class="display-4"> <span class="text-danger"> C++</span> Tutorials : Functional Library</p>
  <p class="display-4">Using the "bind" algorithm</p>

  <div class="container">
    <p> Make sure to include header statements for "functional" module in the C++ standard library, as shown below: </p>
  </div>

  <div class="row">
    <div class = "bg-inverse text-white col-xs-6 offset-xs-1">
      <span class="text-danger">#include </span> <span class="text-warning"> < iostream > </span> <br>
      <span class= "text-danger">#include </span> <span class="text-warning"> < functional > </span>
    </div> <!-- end of container for preprocessor statements -->
  </div>

  <br>

<div class="container">
  <p> In addition to the header files above, it's also important to declare std::placeholders namespace. This allows you
  to include placeholders to represent parameters whose value is not fixed in the bind() function, as shown below: </p>
</div>

<div class="row">
<div class="bg-inverse text-white col-xs-6 offset-xs-1">
  <span class="text-danger">using namespace</span> std; <br>
  <span class="text-danger"> using namespace </span> std::placeholders; <br>
</div> <!-- end of container for namespace declaration -->
</div>

<br>

<div class="row">
<p class="offset-xs-1">
  For the sake of readability, I like declare constants to represent each of the operators that will represent
  cases in the switch statement below.  However, this is optional, and a code snippet is provided that does not 
  make use of these constant declarations.
</p>
</div>

  <div class="row">
    <div class="bg-inverse text-white col-xs-6 offset-xs-1">
    
      <span class="text-danger">const </span> 
      <span class="text-primary font-italic">char </span>
      <span class="text-uppercase">ADDITION_OPERATOR</span> = <span class="text-warning">'+'</span> ; <br>
      
      <span class="text-danger">const </span> 
      <span class="text-primary font-italic">char </span>
      <span class="text-uppercase">SUBTRACTION_OPERATOR</span> = <span class="text-warning">'-'</span> ; <br>
      
      <span class="text-danger">const </span> 
      <span class="text-primary font-italic">char</span>
      <span class="text-uppercase">MULTIPLICATION_OPERATOR</span> = <span class="text-warning">'*'</span> ; <br>
      
      <span class="text-danger">const</span> 
      <span class="text-primary font-italic"> char</span>
      <span class="text-uppercase">DIVISION_OPERATOR</span> = <span class="text-warning">'/'</span> ; <br>
       
    </div> <!-- end of container for our constants declaration section code snippet-->
  </div> <!-- end of row for constants declaration -->

  <br>

<div class="row">
<p class="offset-xs-1"> The function "perform_operation" defined below takes three arguments: a constant char, and
two integers.  The two integers represent the operands in an arithmetic expression whose result is returned by the 
function.  The const char represents an operator, which in turn is used to passed to a switch statement to determine
which arithmetic statement to perform on the operands.</p>
</div>

<div class="row"> <!-- begining of row-container for function definition -->
  <div class="bg-inverse text-white col-xs-9 offset-xs-1"> <!-- beginning of block container for function def -->
    <p> 
      <span class= "text-primary font-italic"> double</span> 
      <span class= "text-success"> perform_operation (</span>
      <span class="text-danger"> const </span> <span class="text-primary font-italic"> char </span> operator_ch, 
      <span class = "text-primary font-italic"> int </span>
      operand1, 
      <span class = "text-primary font-italic"> int </span>
      operand2){ 
    </p>

    <div class="offset-xs-1">
      <span class = "text-primary font-italic">double</span> result; <br>
    


    <div class="offset-xs-1">
      <span class="text-danger"> switch</span> (operator_ch){ <br>
      
       <span class="text-danger ">case</span> <span class="text-warning">'+'</span>: <br>
      
      <div class="offset-xs-1">
          result = operand1 + operand2; <br>
          <span class="text-danger">break</span>;
      </div>
    
       <span class="text-danger ">case</span> <span class="text-warning">'-'</span>: <br>
      <div class="offset-xs-1">
          result = operand1 - operand2; <br>
          <span class="text-danger">break</span>;
      </div>


       <span class="text-danger ">case</span> <span class="text-warning">'*'</span>: <br>
      <div class="offset-xs-1">
        result = operand1*operand2; <br>
        <span class="text-danger">break</span>;
      </div>

      <span class="text-danger ">case</span> <span class="text-warning">'/'</span>: <br>
        <div class="offset-xs-1"
        result = operand1/operand2; <br>
        <span class="text-danger">break</span>;
        </div>

      }

    </div> <!-- end of switch statement body -->


      <span class="text-danger">return</span> result; 
    }
    </div> <!-- end of container for function body -->
    
  </div>  <!-- end of row container for our function definition code snippet -->

<br>
<br>

<div class="row"> 
<div class="container col-xs-9 offset-xs-1">
The function "perform_operation" is refactored below in order to make use of constants in place of the operator
symbols in the switch statements.  This helps to make the code more readable, but is not a necessary for the code 
to compile correctly.
</div>
</div>

<br>

<div class="row"> <!-- begining of row-container for function definition -->
  <div class="bg-inverse text-white col-xs-9 offset-xs-1"> <!-- beginning of block container for function def -->
    <p> 
      <span class= "text-primary font-italic"> double</span> 
      <span class= "text-success"> perform_operation (</span>
      <span class="text-danger"> const </span> <span class="text-primary font-italic"> char </span> operator_ch, 
      <span class = "text-primary font-italic"> int </span>
      operand1, 
      <span class = "text-primary font-italic"> int </span>
      operand2){ 
    </p>

    <div class="offset-xs-1">
      <span class = "text-primary font-italic">double</span> result; <br>
    


    <div class="offset-xs-1">
      <span class="text-danger"> switch</span> (operator_ch){ <br>
      
       <span class="text-danger ">case</span> <span class="text-uppercase">addition_operator</span>: <br>
      
      <div class="offset-xs-1">
          result = operand1 + operand2; <br>
          <span class="text-danger">break</span>;
      </div>
    
       <span class="text-danger ">case</span> <span class="text-uppercase">subtraction_operator</span>: <br>
      <div class="offset-xs-1">
          result = operand1 - operand2; <br>
          <span class="text-danger">break</span>;
      </div>


       <span class="text-danger ">case</span> <span class="text-uppercase">multiplication_operator</span>: <br>
      <div class="offset-xs-1">
        result = operand1*operand2; <br>
        <span class="text-danger">break</span>;
      </div>

      <span class="text-danger ">case</span> <span class="text-uppercase">division_operator</span>: <br>
        <div class="offset-xs-1"
        result = operand1/operand2; <br>
        <span class="text-danger">break</span>;
        </div>

      }

    </div> <!-- end of switch statement body -->


      <span class="text-danger">return</span> result; 
    }
    </div> <!-- end of container for function body -->
    
  </div>  <!-- end of row container for function body -->


<br>
<br>

<div class="row">
<div class="container col-xs-9 offset-xs-1">
<p>We use the "bind" generic algorithm from the functional library in order to generate new functions derived from the
original "perform_operation" function.  The "bind" function takes a function like "perform_operation" as an argument. It also
additional arguments, which are the parameters for "perform_operation," each listed as a separate parameter in the parameter
list for "bind."  If a constant is passed in as an argument in the argument list following the "perform_operation" argument, then the resulting function generated by bind will be exactly the same as the original "perform_operation" function in terms of the code 
that gets compiled and executed except that the one of the original parameters for "perform_operation is fixed. </p>

<p>The "bind" function is therefore a convenient way of narrowing the set of possible parameters for a function which originally
had several parameters, which at times can be hard to remember and be error-prone.  The callable object returned by bind is 
a function whose operation is more targeted and more specific, and it allows us to define more meaningful names for the functions
that are generated from it.</p>
</div>
</div>

<br>

<div class="row">
  <div class="bg-inverse text-white col-xs-9 offset-xs-1">
    <span class="text-info">auto</span> add_operands = <span class="text-info">bind</span>(<span class="text-warning">'+'</span>, _1, _2); <br>
    <span class="text-info">auto</span> subtract_operands = <span class="text-info">bind</span>(<span class="text-warning">'-'</span>, _1, _2); <br>
    <span class="text-info">auto</span> multiply_operands = <span class="text-info">bind</span>(<span class="text-warning">'*'</span>, _1, _2); <br>
    <span class="text-info">auto</span> divide_operands = <span class="text-info">bind</span>(<span class="text-warning">'/'</span>, _1, _2); <br>

  </div> <!-- end of container for code snippet using bind statements to generate new callable objects -->
</div>

  <br>

  <div class="container">
    <p> We call our derived functions (i.e. add_operands, subtract_operands, multiply_operands, and divide_operands 
    in the main function below.  It's always good practice to test your code, and this case is no exception.  </p>
  </div>

<div class="row">
  <div class="bg-inverse text-white col-xs-9 offset-xs-1">
    <span class="text-info">int</span> <span class="text-success">main</span>() { <br>

    <div class="offset-xs-1">
    cout << <span class="text-warning">"5 + 5 = "</span> << <span class="text-info">add_operands</span>(5,5) << endl; <br>
    cout << <span class="text-warning">"10 - 2 = "</span> << <span class="text-info">subtract_operands</span>(10,2) << endl; <br>
    cout << <span class="text-warning">"5 * 5 = "</span>  << <span class="text-info"> multiply_operands </span>(5,5) << endl; <br>
    cout << <span class="text-warning">"10 / 2 = "</span> << <span class="text-info">divide_operands</span>(10,2) << endl; <br>
    cout << <span class="text-warning">"10 % 3 = "</span> << <span class="text-info">get_remainder</span>(10,3) << endl; <br>

      
    </div>
    
    <span class="text-danger">return </span> 0; <br>
    }
  </div>
</div>

<br>

  <div class="row">
    <div class="container offset-xs-1">
        <p> Can you predict the result of compiling and running the code above? Click the button below
        to see what output we get (Note: This website does not have a built-in C++ compiler, so we are not actually compiling
        and running code!)</p>
      </div>
    <a class="btn btn-warning offset-xs-1" href="" title="">Compile and Run!</a>
  </div>

<br>
<div class="row">
      <div class="container bg-inverse text-white text-xs-center rounded col-xs-3 offset-xs-1">
      <p>
      5 + 5 = 10  <br>
      10 - 2 = 8  <br>
      5 * 5 = 25  <br>
      10 / 2 = 5  <br>
      10 % 3 = 1  <br>
      </p>    
    </div>
  </div>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.5/js/bootstrap.min.js" integrity="sha384-BLiI7JTZm+JWlgKa0M0kGRpJbF2J8q+qreVrKBC47e3K6BW78kGLrCkeRX6I9RoK" crossorigin="anonymous"></script>

  </body>
</html>